<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid mx-5">
    <%= link_to 'PiquePosts Blog', root_path, class: 'navbar-brand' %>
    <div class="d-flex">
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>

      <!-- User Authentication Dropdown -->
      <div class="btn-group ms-2">
        <button type="button" class="btn btn-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person"></i> <!-- Assuming you have a user icon, replace this with your icon -->
        </button>
        <ul class="dropdown-menu">
          <% if user_signed_in? %>
            <li><%= button_to current_user.name, user_path(current_user.id), class: 'dropdown-item' %></li>
            <li><%= button_to "Role: #{current_user.role}", user_path(current_user.id), class: 'dropdown-item' %></li>
            <li><%= button_to 'Sign out', destroy_user_session_path, method: :delete, class: 'dropdown-item' %></li>
          <% else %>
            <li><%= link_to 'Login', user_session_path, class: 'dropdown-item' %></li>
            <li><%= link_to 'Sign up', new_user_registration_path, class: 'dropdown-item' %></li>
          <% end %>
        </ul>
      </div>
      <!-- End User Authentication Dropdown -->
    </div>
  </div>
</nav>

<script>
  // Ensure you have Bootstrap JavaScript included for the dropdown to work
  document.addEventListener('DOMContentLoaded', function () {
    var dropdown = new bootstrap.Dropdown(document.querySelector('.dropdown-toggle'));
  });
</script>
